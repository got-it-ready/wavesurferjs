！function（e，t）{“object”== typeof exports &&“object”== typeof module？module.exports = t（）：“function”== typeof define && define.amd？define（“WaveSurfer”，[]， t）：“object”== typeof exports？exports.WaveSurfer = t（）：e.WaveSurfer = t（）}（window，function（）{return function（r）{var n = {}; function i（e ）{if（n [e]）return n [e] .exports; var t = n [e] = {i：e，l：！1，exports：{}}; return r [e] .call（t .exports，t，t.exports，i），tl =！0，t.exports} return im = r，ic = n，id = function（e，t，r）{io（e，t）|| Object .defineProperty（e，t，{enumerable：！0，get：r}）}，ir = function（e）{“undefined”！= typeof Symbol && Symbol.toStringTag && Object.defineProperty（e，Symbol.toStringTag，{value：“Module “}），Object.defineProperty（e，”__ esModule“，{value：！0}）}，它= function（t，e）{if（1＆e &&（t = i（t）），8＆e）返回t;如果（4＆E＆＆“object”== typeof t && t && t .__ esModule）return t; var r = Object.create（null）; if（ir（r），Object.defineProperty（r，“default”，{enumerable：！0，value：t }），2＆e &&“string”！= typeof t）for（var in in t）id（r，n，function（e）{return t [e]}。bind（null，n））; return r}，in = function（e）{var t = e && e .__ esModule？function（）{return e.default}：function（）{return e}; return id（t，“a”，t），t}，io = function（ e，t）{return Object.prototype.hasOwnProperty.call（e，t）}，ip =“”，i（is = 4）}（[function（e，t，r）{“use strict”; Object。 defineProperty（t，“_ _ esModule”，{value：！0}），Object.defineProperty（t，“ajax”，{enumerable：！0，get：function（）{return n.default}}），Object.defineProperty（ t，“getId”，{enumerable：！0，get：function（）{return i.default}}），Object.defineProperty（t，“max”，{enumerable：！0，get：function（）{return a.default}}），Object.defineProperty（t，“min”，{enumerable：！0，get：function（）{return s.default}}），Object.defineProperty（t， “Observer”，{enumerable：！0，get：function（）{return o.default}}），Object.defineProperty（t，“extend”，{enumerable：！0，get：function（）{return u.default }，），Object.defineProperty（t，“style”，{enumerable：！0，get：function（）{return l.default}}），Object.defineProperty（t，“requestAnimationFrame”，{enumerable：！0， get：function（）{return c.default}}），Object.defineProperty（t，“frame”，{enumerable：！0，get：function（）{return h.default}}），Object.defineProperty（t， “debounce”，{enumerable：！0，get：function（）{return f.default}}），Object.defineProperty（t，“preventClick”，{enumerable：！0，get：function（）{return d.default }} ;; var n = p（r（5）），i = p（r（6）），a = p（r（7）），s = p（r（8）），o = p（r （1）），U = P（R（9）），L =对（R（10）），C = P（R（2））中，h = P（R（11））中，f = P（R（12））， d = p（r（13））;函数p（e）{return e && e .__ esModule？e：{default：e}}}，function（e，t，r）{“use strict”; function i（e， t）{for（var r = 0; r <t.length; r ++）{var n = t [r]; n.enumerable = n.enumerable ||！1，n.configurable =！0，“value”in n &&（n.writable =！0），Object.defineProperty（e，n.key，n）}} Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = void 0; var n = function（）{function e（）{！function（e，t）{if（！（e instanceof t））抛出新的TypeError（“不能将类称为函数”）}（this，e），this .handlers = null} var t，r，n; return t = e，（r = [{key：“on”，value：function（e，t）{var r = this; this.handlers ||（this。 handlers = {}）; var n = this.handlers [e]; return n ||（n = this.handlers [e] = []），n.push（t），{name：e，callback：t， un：function（e，t）{return r.un（e，t）}}}}，{key：“un”，value：function（e，t）{if（this.handlers）{var r，n = this.handlers [e]; if（n）if（t）for（r = n.length-1; 0 <= r; r  - ）n [r] == t && n.splice（r，1）;否则n.length = 0}}}，{key：“unAll”，value：function（）{this.handlers = null}}，{key：“once “，value：function（i，a）{var s = this; return this.on（i，function e（）{for（var t = arguments.length，r = new Array（t），n = 0; n <T; N ++）R [N] =参数[N]; a.apply（S，R），的setTimeout（函数（）{s.un（I，E）}，0）}）}}，{键： “fireEvent”，value：function（e）{for（var t = arguments.length，r = new Array（1 <t？t-1：0），n = 1; n <t; n ++）r [n- 1] = arguments [n]; if（this.handlers）{var i = this.handlers [e]; i && i.forEach（function（e）{e.apply（void 0，r）}）}}}]） && i（t.prototype，r），n && i（t，n），e}（）; t.default = n，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = void 0; var n =（window。requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function（e，t）{return setTimeout（e，1e3 / 60）}）。bind（window）; t.default = n，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = void 0 ; var n = function（e）{{if（e && e .__ esModule）return e; var t = {}; if（null！= e）for（var r in e）if（Object.prototype.hasOwnProperty.call（e ，r））{var n = Object.defineProperty && Object.getOwnPropertyDescriptor？Object.getOwnPropertyDescriptor（e，r）：{}; n.get || n.set？Object.defineProperty（t，r，n）：t [r] = e [r]}返回t.default = e，t}}（r（0））;函数i（e）{return（i =“function”== typeof Symbol &&“symbol”== typeof Symbol.iterator？ function（e）{return typeof e}：function（e）{return e &&“function”== typeof Symbol && e.constructor === Symbol && e！== Symbol.prototype？“symbol”：typeof e}）（e）} function a（e，t，r）{return t in e？Object.defineProperty （e，t，{value：r，enumerable：！0，configurable：！0，writable：！0}）：e [t] = r，e} function s（e，t）{return！t ||“ object“！== i（t）&&”function“！= typeof t？function（e）{if（void 0！== e）return e; throw new ReferenceError（”this尚未初始化 -  super（）没有被称为“）}（e）：t}函数o（e）{return（o = Object.setPrototypeOf？Object.getPrototypeOf：function（e）{return e .__ proto__ || Object.getPrototypeOf（e）} ）（e）}函数u（e，t）{for（var r = 0; r <t.length; r ++）{var n = t [r]; n.enumerable = n.enumerable ||！1，n .configurable =！0，n &&（n.writable =！0）中的“value”，Object.defineProperty（e，n.key，n）}}函数l（e，t，r）{return t && u（e.prototype） ，T），r && u（e，r），e} function c（e，t）{return（c = Object.setPrototypeOf || function（e，t）{return e .__ proto __ = t，e}）（e，t）} var h =“正在播放”，f =“暂停”，d =“完成”，p =函数（e）{function i（e）{var t，r，n; return function（e，t）{if（！（ e instanceof t））抛出新的TypeError（“不能将一个类称为函数”）}（this，i），（n = s（this，o（i）.call（this）））。audioContext = null，n .offlineAudioContext = null，n.stateBehaviors =（a（t = {}，h，{init：function（）{this.addOnAudioProcess（）}，getPlayedPercents：function（）{var e = this.getDuration（）; return this .getCurrentTime（）/ e || 0}，getCurrentTime：function（）{return this.startPosition + this.getPlayedTime（）}}），a（t，f，{init：function（）{this.removeOnAudioProcess（）} ，getPlayedPercents：function（）{var e = this.getDuration（）; return this.getCurrentTime（）/ e || 0}，getCurrentTime：function（）{return this.startPosition}}），a（t，d，{在里面：function（）{this.removeOnAudioProcess（），this.fireEvent（“finish”）}，getPlayedPercents：function（）{return 1}，getCurrentTime：function（）{return this.getDuration（）}}），t），n .params = E，n.ac = e.audioContext || n.getAudioContext（），n.lastPlay = n.ac.currentTime，n.startPosition = 0，n.scheduledPause = NULL，n.states =（A（R = {}，H，的Object.create（n.stateBehaviors并[h]）），A（R，F，的Object.create（n.stateBehaviors并[f]）），A（R，d，的Object.create（N。 stateBehaviors [d]））中，r），n.analyser = NULL，n.buffer = NULL，n.filters = []，n.gainNode = NULL，n.mergedPeaks = NULL，n.offlineAc = NULL，n.peaks = null，n.playbackRate = 1，n.analyser = null，n.scriptNode = null，n.source = null，n.splitPeaks = []，n.state = null，n.explicitDuration = null，n}返回函数（e，t）{if（“function”！= typeof t && null！== t）抛出新的TypeError（“超级表达式必须为null或函数”）; e.prototype = Object.create（t && t。原型，{构造：{值：即，可写：0，可配置：0}}），叔&& C（E，T）}（I，n.Observer）中，l（I，[{键： “supportsWebAudio”， value：function（）{return！（！window.AudioContext &&！window.webkitAudioContext）}}，{key：“getAudioContext”，value：function（）{return window.WaveSurferAudioContext ||（window.WaveSurferAudioContext = new（window.AudioContext || window.webkitAudioContext）），window.WaveSurferAudioContext}}，{key：“getOfflineAudioContext”，value：function（e）{return window.WaveSurferOfflineAudioContext ||（window.WaveSurferOfflineAudioContext = new（window.OfflineAudioContext || window.webkitOfflineAudioContext） （1,2，E）），window.WaveSurferOfflineAudioContext}}]）中，l（I，[{键： “初始化”，值：函数（）{this.createVolumeNode（），this.createScriptNode（），this.createAnalyserNode （），this.setState（f）中，this.setPlaybackRate（this.params.audioRate），this.setLength（0）}}，{键： “disconnectFilters”，值：函数（）{this.filters &&（this.filters.forEach（函数（e）中{È&& e.disconnect（）}），this.filters =空，this.analyser.connect（this.gainNode））}}，{键： “的setState”，值：函数（E）{this.state == this.states并[e] &&（this.state = this.states [e]，this.state.init.call（this））}}，{key：“setFilter”，value：function（）{for（var e = arguments.length，t = new Array（e），r = 0; R <E; R ++）T [R] =参数[R]; this.setFilters（T）}}，{键： “setFilters”，值：函数（E）{this.disconnectFilters（）中，e && e.length && （this.filters = e，this.analyser.disconnect（），e.​​reduce（function（e，t）{return e.connect（t），t}，this.analyser）。connect（this.gainNode））} }，{键： “createScriptNode”，值：函数（）{this.params.audioScriptProcessor this.scriptNode = this.params.audioScriptProcessor：此。？ac.createScriptProcessor this.scriptNode = this.ac.createScriptProcessor（i.scriptBufferSize）：this.scriptNode = this.ac.createJavaScriptNode（i.scriptBufferSize），this.scriptNode.connect（this.ac.destination）}}，{ key：“addOnAudioProcess”，value：function（）{var t = this; this.scriptNode.onaudioprocess = function（）{var e = t.getCurrentTime（）; e> = t.getDuration（）？（t.setState（ d），t.fireEvent（ “暂停”））：E> = t.scheduledPause t.pause（）：t.state === t.states并[h] && t.fireEvent（ “audioprocess”，E）}} }，{键： “removeOnAudioProcess”，值：函数（）{this.scriptNode.onaudioprocess =函数（）{}}}，{键： “createAnalyserNode”，值：函数（）{this.analyser = this.ac。 createAnalyser（），this.analyser.connect（this.gainNode）}}，{键： “createVolumeNode”，值：函数（）{this.ac.createGain this.gainNode = this.ac.createGain（）：此。gainNode = this.ac.createGainNode（），this.gainNode.connect（this.ac.destination）}}，{key：“setSinkId”，value：function（e）{if（e）{var t = new window。音频; if（！t.setSinkId）返回Promise.reject（新错误（“浏览器不支持”setSinkId“））; t.autoplay =！0; var r = this.ac.createMediaStreamDestination（）;返回此项。 gainNode.disconnect（），this.gainNode.connect（r），t.srcObject = r.stream，t.setSinkId（e）}返回Promise.reject（新错误（“无效的deviceId：”+ e））}}， {key：“setVolume”，value：function（e）{this.gainNode.gain.setValueAtTime（e，this.ac.currentTime）}}，{key：“getVolume”，value：function（）{return this.gainNode .gain.value}}，{键： “decodeArrayBuffer”，值：功能（例如，T，R）{this.offlineAc ||（this.offlineAc = this.getOfflineAudioContext（this.ac && this.ac.sampleRate this.ac .sampleRate：44100）），this.offlineAc。decodeAudioData（e，function（e）{return t（e）}，r）}}，{key：“setPeaks”，value：function（e，t）{this.explicitDuration = t，this.peaks = e}} {键： “setLength”，值：函数（E）{如果（！this.mergedPeaks || E = 2 * this.mergedPeaks.length-1 + 2）{this.splitPeaks = []，this.mergedPeaks = []; var t，r = this.buffer？this.buffer.numberOfChannels：1; for（t = 0; t <r; t ++）this.splitPeaks [t] = []，this.splitPeaks [t] [2 *（E-1）] = 0，this.splitPeaks [T] [2 *（E-1）+1] = 0; this.mergedPeaks [2 *（E-1）] = 0，this.mergedPeaks [2 *（e-1）+1] = 0}}}，{key：“getPeaks”，value：function（e，t，r）{if（this.peaks）返回this.peaks; if（t = t | | 0，r = r || e-1，this.setLength（e）,! this.buffer）返回this.params.splitChannels？this.splitPeaks：this.mergedPeaks; if（！this.buffer.length）{var n = this.createBuffer（1,4096，this.sampleRate）; this.buffer = n.buffer} var i，a = this.buffer.length / e，s = ~~（a / 10）|| 1，o = this.buffer.numberOfChannels;对于（i = 0;i <o; i ++）{var u = this.splitPeaks [i]，l = this.buffer.getChannelData（i），c = void 0; for（c = t; c <= r; c ++）{var h = ~~（c * a），f = ~~（h + a），d = 0，p = 0，v = void 0; for（v = h; v <f; v + = s）{var y = l [v]，p <Y &&（p = Y）中，y <d &&（d = Y）} U [2 * C] = p，U [2 * C + 1] = d，（0 ==我|| p > this.mergedPeaks [2 * C]）&&（this.mergedPeaks [2 * C] = p），（0 ==我|| d <this.mergedPeaks [2 * C + 1]）&&（this.mergedPeaks [ 2 * c + 1] = d）}}返回this.params.splitChannels？this.splitPeaks：this.mergedPeaks}}，{key：“getPlayedPercents”，value：function（）{return this.state.getPlayedPercents.call（此）}}，{键： “disconnectSource”，值：函数（）{this.source && this.source.disconnect（）}}，{键： “破坏”，值：函数（）{this.isPaused（）|| this.pause（），this.unAll（），this.buffer = NULL，this.disconnectFilters（），this.disconnectSource（），this.gainNode.disconnect（），this.scriptNode.disconnect（），this.analyser.disconnect（），this.params.closeAudioContext &&（“function”== typeof this.ac.close &&“closed”！= this.ac.state && this.ac.close（），this.ac = null，this。 params.audioContext this.params.audioContext = NULL：window.WaveSurferAudioContext = NULL，window.WaveSurferOfflineAudioContext = NULL）}}，{键： “负载”，值：函数（E）{this.startPosition = 0，this.lastPlay = this.ac.currentTime，this.buffer = E，this.createSource（）}}，{键： “createSource”，值：函数（）{this.disconnectSource（），this.source = this.ac.createBufferSource（ ），this.source.start = this.source.start || this.source.noteGrainOn，this.source.stop = this.source.stop || this.source.noteOff，this.source.playbackRate.setValueAtTime（此。 playbackRate，this.ac.currentTime），this.source.buffer = this.buffer，this.source.connect（this.analyser）}}，{键： “isPaused得到”，value：function（）{return this.state！== this.states [h]}}，{key：“getDuration”，value：function（）{return this.buffer？this.buffer.duration：this.explicitDuration？ this.explicitDuration：0}}，{键： “seekTo”，值：功能（E，T）{如果（this.buffer）回报（this.scheduledPause = NULL）==è&&（E = this.getCurrentTime（）） > = this.getDuration（）&&（E = 0），零==吨&&（T = this.getDuration（）），this.startPosition = E，this.lastPlay = this.ac.currentTime，this.state === this.states [d] && this.setState（f）中，{开始：E，结束：吨}}}，{键： “getPlayedTime”，值：函数（）{回报（this.ac.currentTime-this.lastPlay） * this.playbackRate}}，{key：“play”，value：function（e，t）{if（this.buffer）{this.createSource（）; var r = this.seekTo（e，t）; e = r.start，T = r.end，this.scheduledPause = t时，this.source.start（0，即，TE）， “暂停” == this.ac.state && this.ac。恢复&& this.ac.resume（），this.setState（h）中，this.fireEvent（ “播放”）}}}，{键： “暂停”，值：函数（）{this.scheduledPause = NULL，this.startPosition + = this.getPlayedTime（），this.source && this.source.stop（0），this.setState（f），this.fireEvent（“pause”）}}，{key：“getCurrentTime”，value：function（）{return this .state.getCurrentTime.call（this）}}，{key：“getPlaybackRate”，value：function（）{return this.playbackRate}}，{key：“setPlaybackRate”，value：function（e）{e = e | | 1，this.isPaused（）this.playbackRate = E：（this.pause（），this.playbackRate = E，this.play（））}}]）中，i}（）;（t.default = p ）.scriptBufferSize = 256，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = void 0; var i = function（e）{{if（e && e .__ esModule）return e; var t = {}; if（null！= e）for（var r in e）if（Object.prototype.hasOwnProperty.call（e，r））{var n = Object.defineProperty && Object.getOwnPropertyDescriptor？Object.getOwnPropertyDescriptor（e，r）：{}; n.get || n.set？Object.defineProperty（t，r，n）：t [r] = e [r]}返回t.default = e，t}}（r（0）），a = n（r（ 14）），s = n（r（3）），o = n（r（16）），u = n（r（17））;函数n（e）{return e && e .__ esModule？e：{default： e}} function l（e）{return（l =“function”== typeof Symbol &&“symbol”== typeof Symbol.iterator？function（e）{return typeof e}：function（e）{return e &&“function” == typeof Symbol && e.constructor === Symbol && e！== Symbol.prototype？“symbol”：typeof e}）（e）} function c（e，t）{return！t ||“object”！== l（ t）&&“function”！= typeof t？d（e）：t} function h（e）{return（h = Object.setPrototypeOf？Object.getPrototypeOf：function（e）{return e。__proto__ || Object.getPrototypeOf（e）}）（e）} function f（e，t）{return（f = Object.setPrototypeOf || function（e，t）{return e .__ proto __ = t，e}）（ e，t）}函数d（e）{if（void 0 === e）抛出新的ReferenceError（“尚未初始化 - 尚未调用super（）”）;返回e}函数p（e ，t）{if（！（e instanceof t））抛出新的TypeError（“不能将类称为函数”）}函数v（e，t）{for（var r = 0; r <t.length; r ++ ）{var n = t [r]; n.enumerable = n.enumerable ||！1，n.configurable =！0，n &&（n.writable =！0）中的“value”，Object.defineProperty（e，n .key，n）}} function y（e，t，r）{return t && v（e.prototype，t），r && v（e，r），e} var m = function（e）{function n（e）{ var t; if（p（this，n），（t = c（this，h（n）.call（this）））。defaultParams = {audioContext：null，audioScriptProcessor：null，audioRate：1，autoCenter：！0 ，后端： “WebAudio”，barHeight：1，barGap：空，容器：空，cursorColor： “＃333”，cursorWidth：1，dragSelection：0，fillParent：0，forceDecode：1，身高：128，hideScrollbar：1，互动：0，loopSelection：0，maxCanvasWidth ：4E3，mediaContainer：空，mediaControls：1，mediaType的： “音频”，minPxPerSec：20，规范：1，partialRender：1，pixelRatio：window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI，插件： ]，progressColor： “＃555”，removeMediaElementOnDestroy：0，渲染器：a.default响应：1，scrollParent：1，skipLength：2，splitChannels：1，waveColor： “＃999”，XHR：{} }，t.backends = {的MediaElement：o.default，WebAudio：s.default}，t.util = I，t.params = i.extend（{}，t.defaultParams，e）中，t.container =“串“== typeof e.container？document.querySelector（t.params.container）：t.params.container，！t.container）抛出新错误（”找不到容器元素“）; if（null == t.params） 。mediaContainer？t.mediaContainer = t.container：“string”== typeof t.params.mediaContainer？t.mediaContainer = document.querySelector（t.params.mediaContainer）：t.mediaContainer = t.params.mediaContainer，！t。 mediaContainer）抛出新错误（“找不到媒体容器元素”）; if（t.params.maxCanvasWidth <= 1）抛出新错误（“maxCanvasWidth必须大于1”）; if（t.params.maxCanvasWidth％2 = = 1）抛出新的错误（“maxCanvasWidth必须是偶数”）; if（t.savedVolume = 0，t.isMuted =！1，t.tmpEvents = []，t.currentAjax = null，t.arraybuffer = null ，t.drawer = null，t.backend = null，t.peakCache = null，“function”！= typeof t.params.renderer）抛出新错误（“渲染器参数无效”）; t.Drawer = t.params .renderer，t.Backend = t.backends [t.params.backend]，t.initialisedPluginList = {}，t.isDestroyed =！1，t.isReady =！1; var r = 0; return t。_onResize = i.debounce（函数（）{R == t.drawer.wrapper.clientWidth || || t.params.scrollParent（R = t.drawer.wrapper.clientWidth，t.drawer.fireEvent（ “重绘”） ），“number”== typeof t.params.responsive？t.params.responsive：100），c（t，d（d（t）））} return function（e，t）{if（“function”） ！= typeof t && null！== t）抛出新的TypeError（“超级表达式必须为null或函数”）; e.prototype = Object.create（t && t.prototype，{constructor：{value：e，writable：！0 ，可配置：！0}}），t && f（e，t）}（n，i.Observer），y（n，null，[{key：“create”，value：function（e）{return new n（e ）.init（）}}]），y（n，[{key：“init”，value：function（）{return this.registerPlugins（this.params.plugins），this.createDrawer（），this.createBackend（ ），this.createPeakCache（），this}}，{key：“registerPlugins”，value：function（e）{var t = this; return e。forEach（function（e）{return t.addPlugin（e）}），e.forEach（function（e）{e.deferInit || t.initPlugin（e.name）}），this.fireEvent（“plugins-registered” “，e），this}}，{key：”addPlugin“，value：function（t）{var r = this; if（！t.name）throw new Error（”插件没有名字！“）; if（！t.instance）抛出新错误（“插件”.concat（t.name，“没有实例属性！”））; t.staticProps && Object.keys（t.staticProps）.forEach（function（e） {r [e] = t.staticProps [e]}）; var n = t.instance; return Object.getOwnPropertyNames（i.Observer.prototype）.forEach（function（e）{n.prototype [e] = i。 Observer.prototype [e]}），这个[t.name] = new n（t.params || {}，this），this.fireEvent（“plugin-added”，t.name），this}}，{ key：“initPlugin”，value：function（e）{if（！this [e]）throw new error（“Plugin”.concat（e，“尚未添加！”）））;返回this.initialisedPluginList [e] && this.destroyPlugin（e），this [e] .init（），this.initialisedPluginList [e] =！0，this.fireEvent（“plugin-initialised”，e），this }，{key：“destroyPlugin”，value：function（e）{if（！this [e]）throw new Error（“Plugin”.concat（e，“尚未添加且无法销毁！”） ）; if（！this.initialisedPluginList [e]）抛出新错误（“插件”.concat（e，“不活动且无法销毁！”））; if（“function”！= typeof this [e]。 destroy）抛出新错误（“插件”.concat（e，“没有破坏函数！”））;返回此[e] .destroy（），删除this.initialisedPluginList [e]，this.fireEvent（“plugin” -destroyed“，e），this}}，{key：”destroyAllPlugins“，value：function（）{var t = this; Object.keys（this.initialisedPluginList）。forEach（function（e）{return t.destroyPlugin（e）}）}}，{key：“createDrawer”，value：function（）{var r = this; this.drawer = new this.Drawer（this.container， this.params），this.drawer.init（），this.fireEvent（ “抽屉创建”，this.drawer），！1！== this.params.responsive &&（window.addEventListener（ “调整”，this._onResize ，！0），window.addEventListener（ “orientationchange”，this._onResize，！0）），this.drawer.on（ “重绘”，函数（）{r.drawBuffer（），r.drawer.progress（R。 backend.getPlayedPercents（））}），this.drawer.on（“click”，function（e，t）{setTimeout（function（）{return r.seekTo（t）}，0）}），this.drawer。上（ “滚动”，函数（E）{r.params.partialRender && r.drawBuffer（），r.fireEvent（ “滚动”，E）}）}}，{键： “createBackend”，值：函数（）{风险T =此; this.backend && this.backend.destroy（），”AudioElement “== this.params.backend &&（this.params.backend =” MediaElement的 “），” WebAudio“！= this.params.backend || this.Backend.prototype.supportsWebAudio.call（空）||（这一点。 params.backend =“MediaElement”），this.backend = new this.Backend（this.params），this.backend.init（），this.fireEvent（“backend-created”，this.backend），this.backend。在（ “完成”，函数（）{t.drawer.progress（t.backend.getPlayedPercents（）），t.fireEvent（ “完成”）}），this.backend.on（ “玩”，函数（）{ return t.fireEvent（“play”）}），this.backend.on（“pause”，function（）{return t.fireEvent（“pause”）}），this.backend.on（“audioprocess”，function（ E）{t.drawer.progress（t.backend.getPlayedPercents（）），t.fireEvent（ “audioprocess”，E）}）}}，{键： “createPeakCache”，值：函数（）{此。params.partialRender &&（this.peakCache = new u.default）}}，{key：“getDuration”，value：function（）{return this.backend.getDuration（）}}，{key：“getCurrentTime”，value：function （）{return this.backend.getCurrentTime（）}}，{key：“setCurrentTime”，value：function（e）{e> = this.getDuration（）？this.seekTo（1）：this.seekTo（e / this.getDuration（））}}，{key：“play”，value：function（e，t）{var r = this; return this.fireEvent（“interaction”，function（）{return r.play（e， t）}），this.backend.play（e，t）}}，{key：“pause”，value：function（）{if（！this.backend.isPaused（））return this.backend.pause（） }，{key：“playPause”，value：function（）{return this.backend.isPaused（）？this.play（）：this.pause（）}}，{key：“isPlaying”，value：function（ ）{返回this.backend.isPaused（）！}}，{关键： “skipBackward”，值：函数（E）{this.skip（-e ||  - 这个。params.skipLength）}}，{键： “skipForward”，值：函数（E）{this.skip（E || this.params.skipLength）}}，{键： “跳过”，值：函数（e）中{var t = this.getDuration（）|| 1，r = this.getCurrentTime（）|| 0; r = Math.max（0，Math.min（t，r +（e || 0））），this。 seekAndCenter（R / T）}}，{键： “seekAndCenter”，值：函数（E）{this.seekTo（e）中，this.drawer.recenter（E）}}，{键： “seekTo”，值： function（e）{var t = this; if（“number”！= typeof e ||！isFinite（e）|| e <0 || 1 <e）return console.error（“Error calling wavesurfer.seekTo，parameter必须是介于0和1之间的数字！“）; this.fireEvent（”interaction“，function（）{return t.seekTo（e）}）; var r = this.backend.isPaused（）; r || this。 backend.pause（）; var n = this.params.scrollParent; this.params.scrollParent =！1，this.backend.seekTo（e * this.getDuration（）），this.drawer.progress（e），r | | this.backend.play（），这个。params.scrollParent = N，this.fireEvent（ “查找”，E）}}，{键： “停止”，值：函数（）{this.pause（），this.seekTo（0），this.drawer.progress （0）}}，{key：“setSinkId”，value：function（e）{return this.backend.setSinkId（e）}}，{key：“setVolume”，value：function（e）{this.backend。 setVolume（e），this.fireEvent（“volume”，e）}}，{key：“getVolume”，value：function（）{return this.backend.getVolume（）}}，{key：“setPlaybackRate”，value ：function（e）{this.backend.setPlaybackRate（e）}}，{key：“getPlaybackRate”，value：function（）{return this.backend.getPlaybackRate（）}}，{key：“toggleMute”，value：功能（）{this.setMute（this.isMuted！）}}，{关键： “setMute”，值！？功能（E）{é== this.isMuted &&（E（this.savedVolume = this.backend.getVolume （），this.backend.setVolume（0），this.isMuted =！0，this.fireEvent（ “音量”，0））:( this.backend.setVolume（this.savedVolume），this.isMuted =！1，this.fireEvent（ “音量”，this.savedVolume））），this.fireEvent（ “静音”，this.isMuted ）}}，{key：“getMute”，value：function（）{return this.isMuted}}，{key：“isReady”，value：function（）{return this.isReady}}，{key：“getFilters” ，value：function（）{return this.backend.filters || []}}，{key：“toggleScroll”，value：function（）{this.params.scrollParent =！this.params.scrollParent，this.drawBuffer（ }}，{key：“toggleInteraction”，value：function（）{this.params.interact =！this.params.interact}}，{key：“getWaveColor”，value：function（）{return this.params。 waveColor}}，{key：“setWaveColor”，value：function（e）{this.params.waveColor = e，this.drawBuffer（）}}，{key：“getProgressColor”，value：function（）{return this。 params.progressColor}}，{关键：”setProgressColor“，value：function（e）{this.params.progressColor = e，this.drawBuffer（）}}，{key：”getCursorColor“，value：function（）{return this.params.cursorColor}}，{key ：“setCursorColor”，value：function（e）{this.params.cursorColor = e，this.drawer.updateCursor（）}}，{key：“getHeight”，value：function（）{return this.params.height} }，{键： “自动调用setHeight”，值：函数（E）{this.params.height = E，this.drawer.setHeight（E * this.params.pixelRatio），this.drawBuffer（）}}，{键： “drawBuffer”，value：function（）{var e，t = Math.round（this.getDuration（）* this.params.minPxPerSec * this.params.pixelRatio），r = this.drawer.getWidth（），n = T，I = this.drawer.getScrollX（）中，a = Math.max（I + R，N）;！如果（this.params.fillParent &&（this.params.scrollParent ||吨<R）&&（I = 0 ，a = n = r），this.params.partialRender）{var s，o = this.peakCache.addRangeToPeakCache（n，i，a）;为（S = 0; S <o.length; S ++）E = this.backend.getPeaks（N，O [S] [0]，邻[S] [1]），this.drawer.drawPeaks（E，N ，o [s] [0]，o [s] [1]）}否则e = this.backend.getPeaks（n，i，a），this.drawer.drawPeaks（e，n，i，a）; this .fireEvent（ “重绘”，E，N）}}，{键： “缩放”，值：（！this.params.minPxPerSec = E，0）函数（E）{this.params.scrollParent = E :( this.params.minPxPerSec = this.defaultParams.minPxPerSec，！1），this.drawBuffer（），this.drawer.progress（this.backend.getPlayedPercents（）），this.drawer.recenter（this.getCurrentTime（）/本.getDuration（）），this.fireEvent（“zoom”，e）}}，{key：“loadArrayBuffer”，value：function（e）{var t = this; this.decodeArrayBuffer（e，function（e）{t .isDestroyed || t.loadDecodedBuffer（E）}）}}，{键： “loadDecodedBuffer”，值：函数（E）{this.backend.load（e）中，this.drawBuffer（），this.fireEvent（“准备“），this.isReady = 0}}，{关键：！”loadBlob“，value：function（e）{var t = this，r = new FileReader; r.addEventListener（”progress“，function（e）{return t.onProgress（e）}），r.addEventListener（”load“ ，function（e）{return t.loadArrayBuffer（e.target.result）}），r.addEventListener（“error”，function（）{return t.fireEvent（“error”，“Error reading file”）}）， r.readAsArrayBuffer（e），this.empty（）}}，{key：“load”，value：function（e，t，r，n）{if（this.empty（），r）{var i = { “预加载不是'自动'，'无'或'元数据'”： -  1 === [“自动”，“元数据”，“无”] .indexOf（r），“未提供峰值”：！t ，“后端不是MediaElement类型”：“MediaElement”！== this.params.backend，“Url不是字符串类型”：“string”！= typeof e}，a = Object.keys（i）。filter（function（e）{return i [e]}）; a.length &&（console.warn（“waveurfer.load的Preload参数将被忽略，因为：\ n \ t-”+ a.join（“\ n \” t-“）），r = null）} switch（this.params.backend）{case”WebAudio“：return this.loadBuffer（e，t，n）; case”MediaElement“：return this.loadMediaElement（e，t ，r，n）}}}，{key：“loadBuffer”，value：function（t，e，r）{var n = this，i = function（e）{return e && n.tmpEvents.push（n.once（ “ready”，e）），n.getArrayBuffer（t，function（e）{return n.loadArrayBuffer（e）}）}; if（！e）return i（）; this.backend.setPeaks（e，r） ，this.drawBuffer（），this.tmpEvents.push（this.once（“interaction”，i））}}，{key：“loadMediaElement”，value：function（e，t，r，n）{var i =这个，a = e; if（“string”== typeof e）this.backend.load（a，this.mediaContainer，t，r）; else {var s = e; this.backend.loadElt（s，t）中，a = s.src}此。tmpEvents.push（this.backend.once（ “canplay”，函数（）{i.drawBuffer（），i.fireEvent（ “就绪”），i.isReady =！0}），this.backend.once（“错误“，function（e）{return i.fireEvent（”error“，e）}）），t && this.backend.setPeaks（t，n），t &&！this.params.forceDecode ||！this.backend.supportsWebAudio（） || this.getArrayBuffer（一个，函数（E）{i.decodeArrayBuffer（即，函数（E）{i.backend.buffer = E，i.backend.setPeaks（空），i.drawBuffer（），i.fireEvent （“波形就绪”）}}}）}}，{key：“decodeArrayBuffer”，值：function（t，r）{var n = this; this.arraybuffer = t，this.backend.decodeArrayBuffer（t，function （e）{n.isDestroyed || n.arraybuffer！= t ||（r（e），n.arraybuffer = null）}，function（）{return n.fireEvent（“error”，“Error audi audiobuffer”） }}，{key：“getArrayBuffer”，value：function（e，r）{var n = this，t = i.ajax（{url：e，responseType：“arraybuffer”，xhr：this.params.xhr}）; return this.currentAjax = t，this.tmpEvents.push（t.on（“progress”，function（e）{n.onProgress（e）}） ，t.on（ “成功”，功能（E，T）{R（e）中，n.currentAjax = NULL}），t.on（ “错误”，函数（E）{n.fireEvent（ “错误”， “XHR错误：”+ e.target.statusText），n.currentAjax = null}）），t}}，{key：“onProgress”，value：function（e）{var t; t = e.lengthComputable？e .loaded / e.total：e.loaded /（e.loaded + 1E6），this.fireEvent（ “加载”，Math.round（100 * T），e.target）}}，{键： “exportPCM”， value：function（e，t，r，n）{e = e || 1024，n = n || 0，t = t || 1e4，r = r ||！1; var i = this.backend.getPeaks （e，n），a = []。map.call（i，function（e）{return Math.round（e * t）/ t}），s = JSON.stringify（a）; return r || window 。开（ “数据：应用程序/ JSON;字符集= UTF-8，” + encodeURIComponent方法（一个或多个））中，s}}，{键： “exportImage”，value：function（e，t）{return e ||（e =“image / png”），t ||（t = 1），this.drawer.getImage（e，t）}}，{key：“ cancelAjax”，值：函数（）{this.currentAjax &&（this.currentAjax.xhr.abort（），this.currentAjax = NULL）}}，{键： “clearTmpEvents”，值：函数（）{this.tmpEvents.forEach （function（e）{return e.un（）}）}}，{key：“empty”，value：function（）{this.backend.isPaused（）||（this.stop（），this.backend。 disconnectSource（）），this.isReady =！1，this.cancelAjax（），this.clearTmpEvents（），this.drawer.progress（0），this.drawer.setWidth（0），this.drawer.drawPeaks（{长度：this.drawer.getWidth（）}，0）}}，{键： “破坏”，值：函数（）{this.destroyAllPlugins（），this.fireEvent（ “消灭”），this.cancelAjax（），这.clearTmpEvents（），this.unAll（），！1！== this.params.responsive &&（window.removeEventListener（ “调整”，this._onResize，！0）window.removeEventListener（ “orientationchange”，this._onResize，！0）），this.backend.destroy（），this.drawer.destroy（），this.isDestroyed =！0，this.isReady =！1，this.arraybuffer = NULL}}]）中，n}（）;（t.default = M）.VERSION = “2.1.3”，m.util = I，e.exports = t.default}，函数（例如，T，R ）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = function（e）{var t = new i.default，r = new XMLHttpRequest，n =！ 1; r.open（e.method || “GET”，e.url，0！），r.responseType = e.responseType || “JSON”，e.xhr &&（e.xhr.requestHeaders && e.xhr.requestHeaders。 forEach（function（e）{r.setRequestHeader（e.key，e.value）}），e.xhr.withCredentials &&（r.withCredentials =！0））; return r.addEventListener（“progress”，function（e） {t.fireEvent（ “进步”，e）所示，e.lengthComputable && e.loaded == e.total &&（N =！0）}）中，r。的addEventListener（ “负载”，函数（E）{N || t.fireEvent（ “进步”，e）中，t.fireEvent（ “负载”，e）中，200个== r.status || 206个== r.status ？t.fireEvent（“success”，r.response，e）：t.fireEvent（“error”，e）}），r.addEventListener（“error”，function（e）{return t.fireEvent（“error”） ，e）}），r.send（），t.xhr = r，t}; var n，i =（n = r（1））&& n .__ esModule？n：{default：n}; e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = function（）{return“wavesurfer _”+ Math.random（）。toString（32）.substring（2）}，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”， {value：！0}），t.default = function（t）{var r = -1 / 0;返回Object.keys（t）.forEach（function（e）{t [e]> r &&（r = t并[e]）}）中，r}，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = function（t）{var r = Number（1/0） ;返回Object.keys（t）.forEach（function（e）{t [e] <r &&（r = t [e]）}），r}，e.exports = t.default}，function（e，t ，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = function（r）{for（var e = arguments.length，t = new Array（ 1 <e？e-1：0），n = 1; n <e; n ++）t [n-1] = arguments [n];返回t.forEach（function（t）{Object.keys（t）。 forEach（function（e）{r [e] = t [e]}）}），r}，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty （t，“_ _ esModule”，{value：！0}），t.default = function（t，r）{return Object.keys（r）.forEach（function（e）{t.style [e]！== r [e] &&（t.style [e] = r [e]）}），t}，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty （T，”__esModule“，{value：！0}），t.default = function（n）{return function（）{for（var e = arguments.length，t = new Array（e），r = 0; r <e; r ++）t [r] = arguments [r]; return（0，i.default）（function（）{return n.apply（void 0，t）}）}}; var n，i =（n = r（ 2））&& n .__ esModule？n：{default：n}; e.exports = t.default}，function（e，t）{function r（t，r，n）{var i，a，s，o， u; function l（）{var e = Date.now（） -  o; e <r && 0 <= e？i = setTimeout（l，re）:( i = null，n ||（u = t.apply（s） ，a），s = a = null））} null == r &&（r = 100）; var e = function（）{s = this，a = arguments，o = Date.now（）; var e = n &&！ i;返回i ||（i = setTimeout（l，r）），e &&（u = t.apply（s，a），s = a = null），u};返回e.clear = function（）{i && （clearTimeout（I）中，i =空）}，e.flush =函数（）{I &&（U = t.apply（S，A）中，s = A = NULL，clearTimeout（I）中，i =空）}， e} r.debounce = r，e.exports = r}，function（e，t，r）{“use strict”; function n（e）{e.stopPropagation（），document.body。removeEventListener（ “点击”，N，0！）} Object.defineProperty（T， “__ esModule”，{值：0}），t.default =函数（E）{document.body.addEventListener（ “点击”，正，！0）}，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0}），t.default = void 0; var n，a =（n = r（15））&& n .__ esModule？n：{default：n}，f = function（e）{{if（e && e .__ esModule）return e; var t = {如果（null！= e）for（var r in e）if（Object.prototype.hasOwnProperty.call（e，r））{var n = Object.defineProperty && Object.getOwnPropertyDescriptor？Object.getOwnPropertyDescriptor（e，r）： {}; n.get || n.set？Object.defineProperty（t，r，n）：t [r] = e [r]} return t.default = e，t}}（r（0））; function i（e）{return（i =“function”== typeof Symbol &&“symbol”== typeof Symbol.iterator？function（e）{return typeof e}：function（e）{return e＆＆“function”== typeof Symbol && e.constructor === Symbol && e！== Symbol.prototype？“symbol”：typeof e}）（e）} function s（e，t）{for（var r = 0; r < t.length; r ++）{var n = t [r]; n.enumerable = n.enumerable ||！1，n.configurable =！0，n &&（n.writable =！0）中的“value”，对象。 defineProperty（e，n.key，n）}} function o（e，t）{return！t ||“object”！== i（t）&&“function”！= typeof t？function（e）{if （void 0！== e）return e;抛出新的ReferenceError（“尚未初始化 - 尚未调用super（）”）（e）：t}函数u（e）{return（u = Object.setPrototypeOf？Object.getPrototypeOf：function（e）{return e .__ proto__ || Object.getPrototypeOf（e）}）（e）} function l（e，t）{return（l = Object.setPrototypeOf || function（ e，t）{return e .__ proto __ = t，e}）（e，t）} var c = function（e）{function n（e，t）{var r; return function（e，t）{if（ ！（e instanceof t））抛出新的TypeError（“不能将一个类称为函数”）}（this，n），（r = o（this，u（n）.call（this，e，t）））。 maxCanvasWidth = t.maxCanvasWidth，r.maxCanvasElementWidth = Math.round（t.maxCanvasWidth / t.pixelRatio），r.hasProgressCanvas = t.waveColor！= t.progressColor，r.halfPixel = 0.5 / t.pixelRatio，r.canvases = []，r.progressWave = null，r} var t，r，i; return function（e，t）{if（“function”！= typeof t && null！== t）抛出新的TypeError（“超级表达式必须是null或函数“）; e.prototype = Object.create（t && t.prototype，{constructor：{value：e，writable：！0，configurable：！0}}），t && l（e，t）}（n ，a.default），T = N，（R = [{键： “初始化”，值：函数（）{this.createWrapper（），this.createElements（）}}，{键： “createElements”，值：函数（）{this.progressWave = this.wrapper.appendChild（this.style（文档。的createElement（ “波”），{位置： “绝对”，zIndex的：3，左：0，顶端：0，底部：0，溢出： “隐藏”，宽度： “0”，显示： “无”，boxSizing： “边界框”，borderRightStyle： “实”，pointerEvents： “无”}）），this.addCanvas（），this.updateCursor（）}}，{关键： “updateCursor”，值：函数（）{这一点。 style（this.progressWave，{borderRightWidth：this.params.cursorWidth +“px”，borderRightColor：this.params.cursorColor}）}}，{key：“updateSize”，value：function（）{for（var n = this， E = Math.round（this.width / this.params.pixelRatio），T = Math.ceil（E / this.maxCanvasElementWidth）; this.canvases.length <T）this.addCanvas（）;对于（;此。 canvases.length> t;）this.removeCanvas（）; this.canvases.forEach（function（e，t）{var r = n.maxCanvasWidth + 2 * Math.ceil（n.params.pixelRatio / 2）; t = = n.canvases.length-1 &&（R = n.width-n.maxCanvasWidth *（n.canvases.length-1）），n.updateDimensions（E，R，n.height），n.clearWaveForEntry（E）}）}}，{键：” addCanvas“，value：function（）{var e = {}，t = this.maxCanvasElementWidth * this.canvases.length; e.wave = this.wrapper.appendChild（this.style（document.createElement（”canvas“）， {位置： “绝对”，zIndex的：2，左：T + “PX”，顶端：0，底部：0，高度： “100％”，pointerEvents： “无”}）），e.waveCtx = e.wave。的getContext（ “2D”），this.hasProgressCanvas &&（e.progress = this.progressWave.appendChild（this.style（使用document.createElement（ “画布”），{位置： “绝对”，左：T + “PX”，顶端： 0，底部：0，高度： “100％”}）），e.progressCtx = e.progress.getContext（ “2D”）），this.canvases.push（E）}}，{键： “removeCanvas”， value：function（）{var e = this.canvases.pop（）; e.wave。parentElement.removeChild（e.wave），this.hasProgressCanvas && e.progress.parentElement.removeChild（e.progress）}}，{key：“updateDimensions”，value：function（e，t，r）{var n = Math.round （吨/ this.params.pixelRatio）中，i = Math.round（this.width / this.params.pixelRatio）; e.start = e.waveCtx.canvas.offsetLeft / I 0 ||，e.end = E。启动+ N / I，e.waveCtx.canvas.width = t时，e.waveCtx.canvas.height = R，this.style（e.waveCtx.canvas，{宽度：N + “PX”}），this.style（ this.progressWave，{显示： “块”}），this.hasProgressCanvas &&（e.progressCtx.canvas.width = t时，e.progressCtx.canvas.height = R，this.style（e.progressCtx.canvas，{宽度： n +“px”}））}}，{key：“clearWave”，value：function（）{var t = this; this.canvases.forEach（function（e）{return t.clearWaveForEntry（e）}）}} {键： “clearWaveForEntry”，值：函数（E）{e.waveCtx.clearRect（0,0，e.waveCtx.canvas。宽度，e.waveCtx.canvas.height），this.hasProgressCanvas && e.progressCtx.clearRect（0,0，e.progressCtx.canvas.width，e.progressCtx.canvas.height）}}，{键： “拉杆”，值：function（e，t，v，y）{var m = this; return this.prepareDraw（e，t，v，y，function（e）{var t = e.absmax，r = e.hasMinVals，n = （e.height，e.offsetY），i = e.halfH，a = e.peaks; if（void 0！== v）{var s，o = r？2：1，u = a.length / o ，L = m.params.barWidth * m.params.pixelRatio，C = 1 +（空=== m.params.barGap Math.max（m.params.pixelRatio，~~（L / 2））：[数学式MAX（m.params.pixelRatio，m.params.barGap * m.params.pixelRatio）），H = U / m.width，F = Y;对于（S = v; S <F; S + = C）{风险d = A [Math.floor（S * H * O）] || 0，p为Math.round（d / T * I）; m.fillRect（S + m.halfPixel，I-p + N，L + m.halfPixel，2 * p）}}}}}}，{key：“drawWave”，value：function（e，t，l，c）{var h = this; return this.prepareDraw（e，t，l ，c，函数（e）{var t = e.absmax，r = e.hasMinVals，n =（e.height，e.offsetY），i = e.halfH，a = e。峰值; if（！r）{var s，o = []，u = a.length; for（s = 0; s <u; s ++）o [2 * s] = a [s]，o [2 * s + 1] =  -  a [s]; a = o} void 0！== l && h.drawLine（a，t，i，n，l，c），h.fillRect（0，i + nh.halfPixel，h .width，h.halfPixel）}）}}，{key：“drawLine”，value：function（t，r，n，i，a，s）{var o = this; this.canvases.forEach（function（e） ）{o.setFillStyles（e）中，o.drawLineToContext（E，e.waveCtx，T，R，N，I，A，S），o.drawLineToContext（E，e.progressCtx，T，R，N，I， a，s）}）}}，{key：“drawLineToContext”，value：function（e，t，r，n，i，a，s，o）{if（t）{var u = r.length / 2 ，L = this.params.fillParent && this.width = U this.width / U：？1，C = Math.round（U * e.start），H = Math.round（U * e.end）+1; if（！（o <c || h <s））{var f，d，p = Math.min（c，s），v = Math.max（h，o）; for（t.beginPath（）， t.moveTo（（pc）* l + this.halfPixel，i + a），f = p; f <v; f ++）{var y = r [2 * f] || 0，m = Math.round（y /n*i);t.lineTo((fc)*l+this.halfPixel,i-m+a)}for(d=v-1;p<=d;d--){var b = r [ 2 * d + 1] || 0，G =数学。轮（B / N * I）; t.lineTo（（DC）* L + this.halfPixel，I-G + A）} t.closePath（），t.fill（）}}}}，{键：” fillRect“，value：function（e，t，r，n）{var i，a = Math.floor（e / this.maxCanvasWidth），s = Math.min（Math.ceil（（e + r）/ this。 maxCanvasWidth）+ 1，this.canvases.length）; for（i = a; i <s; i ++）{var o = this.canvases [i]，u = i * this.maxCanvasWidth，l = {x1：Math。最大（E，I * this.maxCanvasWidth），Y1：T，X2：Math.min（E + R，I * this.maxCanvasWidth + o.waveCtx.canvas.width），Y2：T + N}; l.x1 <l.x2 &&（this.setFillStyles（○），this.fillRectToContext（o.waveCtx，l.x1-U，l.y1，l.x2-l.x1，l.y2-l.y1），this.fillRectToContext （o.progressCtx，l.x1-U，l.y1，l.x2-l.x1，l.y2-l.y1））}}}，{键： “prepareDraw”，值：功能（S，O ，u，l，c）{var h = this; return f.frame（function（）{if（s [0] instanceof Array）{var e = s; if（h.params.splitChannels）return h.setHeight（ e.length * h.params.height * h.params.pixelRatio），e.forEach（function（e，t）{return h。prepareDraw（e，t，u，l，c）}）; s = e [0]} var t = 1 / h.params.barHeight; if（h.params.normalize）{var r = f.max（s ），n = f.min（s）; t = r <-n？-n：r} var i = []。some.call（s，function（e）{return e <0}），a = h .params.height * h.params.pixelRatio; return c（{absmax：t，hasMinVals：i，height：a，offsetY：a * o || 0，halfH：a / 2，peaks：s}）}）（） ）}}，{键： “fillRectToContext”，值：功能（例如，T，R，N，I）{è&& e.fillRect（T，R，N，I）}}，{键： “setFillStyles”，值：函数（E）{e.waveCtx.fillStyle = this.params.waveColor，this.hasProgressCanvas &&（e.progressCtx.fillStyle = this.params.progressColor）}}，{键： “的getImage”，值：函数（T，R ）{var e = this.canvases.map（function（e）{return e.wave.toDataURL（t，r）}）; return 1 <e.length？e：e [0]}}，{key：“的UpdateProgress”，值：函数（E）{this.style（this.progressWave，{宽度：E + “PX”}）}}]）&& S（t.prototype中，r）中，i && S（T，I），n}（）; t.default = c，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__ esModule”，{value：！0} ），t.default = void 0; var a = function（e）{{if（e && e .__ esModule）return e; var t = {}; if（null！= e）for（var r in e）if（Object .prototype.hasOwnProperty.call（e，r））{var n = Object.defineProperty && Object.getOwnPropertyDescriptor？Object.getOwnPropertyDescriptor（e，r）：{}; n.get || n.set？Object.defineProperty（t，r） ，n）：t [r] = e [r]}返回t.default = e，t}}（r（0））;函数n（e）{return（n =“function”== typeof Symbol &&“symbol “== typeof Symbol.iterator？function（e）{return typeof e}：function（e）{return e &&”function“== typeof Symbol && e.constructor === Symbol && e！== Symbol.prototype？”symbol“：typeof e}）（e）}函数s（e，t）{for（var r = 0; r <t.length; r ++）{var n = t [r]; n.enumerable = n。enumerable ||！1，n.configurable =！0，n &&（n.writable =！0）中的“value”，Object.defineProperty（e，n.key，n）}} function o（e，t）{return ！t ||“object”！== n（t）&&“function”！= typeof t？function（e）{if（void 0！== e）return e;抛出新的ReferenceError（“这还没有initialised  -  super（）没有调用“）}（e）：t}函数u（e）{return（u = Object.setPrototypeOf？Object.getPrototypeOf：function（e）{return e .__ proto__ || Object。 getPrototypeOf（e）}）（e）} function l（e，t）{return（l = Object.setPrototypeOf || function（e，t）{return e .__ proto __ = t，e}）（e，t）} var i = function（e）{function n（e，t）{var r; return function（e，t）{if（！（e instanceof t））抛出新的TypeError（“不能将类称为函数”） }（此，N），（R = O（在此，U（n）的.CALL（本）））。容器= E，r.params = t时，r.width = 0，r.height = t.height * r.params.pixelRatio，r.lastPos = 0，r.wrapper = NULL，r} var t，r，i; return function（e，t）{if（“function”！= typeof t && null！== t）throw new TypeError（“Super expression必须为null或函数”）; e。原型=的Object.create（吨&& t.prototype，{构造：{值：即，可写：0，可配置：0}}），叔&& L（E，T）}（N，a.Observer），T = N， （r = [{key：“style”，value：function（e，t）{return a.style（e，t）}}，{key：“createWrapper”，value：function（）{this.wrapper = this .container.appendChild（使用document.createElement（ “波”）），this.style（this.wrapper，{显示： “块”，位置： “相对”，userSelect： “无”，webkitUserSelect： “无”，高度： this.params.height + “PX”}），（this.params.fillParent || this.params.scrollParent）&& this.style（this.wrapper，{宽度： “100％”，overflowX：this.params.hideScrollbar“？隐”：“auto”，overflowY：“hidden”}），this.setupWrapperEvents（）}}，{key：“handleEvent”，value：function（e，t）{！t && e.preventDefault（）; var r，n = e。 ？targetTouches e.targetTouches [0] .clientX：e.clientX，I = this.wrapper.getBoundingClientRect（）中，a = this.width，S = this.getWidth（）;返回this.params.fillParent &&一个<S 1！？ <（R =（ni.left）*（this.params.pixelRatio / A）|| 0）&&（R = 1）：R =（ni.left + this.wrapper.scrollLeft）/this.wrapper.scrollWidth | | 0，r}}，{key：“setupWrapperEvents”，value：function（）{var n = this; this.wrapper.addEventListener（“click”，function（e）{var t = n.wrapper.offsetHeight-n .wrapper.clientHeight; if（0！= t）{var r = n.wrapper.getBoundingClientRect（）; if（e.clientY> = r.bottom -t）return} n.params.interact && n.fireEvent（“click” ，E，n.handleEvent（E））}），this.wrapper.addEventListener（ “滚动”，function（e）{return n.fireEvent（“scroll”，e）}）}}，{key：“drawPeaks”，value：function（e，t，r，n）{this.setWidth（t）|| this .clearWave（），this.params.barWidth this.drawBars（E，0，R，N）：this.drawWave（E，0，R，N）}}，{键： “resetScroll”，值：函数（ ）{null！== this.wrapper &&（this.wrapper.scrollLeft = 0）}}，{key：“recenter”，value：function（e）{var t = this.wrapper.scrollWidth * e; this.recenterOnPosition（ t，！0）}}，{key：“recenterOnPosition”，value：function（e，t）{var r = this.wrapper.scrollLeft，n = ~~（this.wrapper.clientWidth / 2），i = this .wrapper.scrollWidth-this.wrapper.clientWidth，A =烯，S = AR;若（！0 = I）{如果（！吨&&  -  N的<= S &&小号<N）{A = R +（S = Math.max（ -5，Math.min（5，S）））}（α= Math.max（0，Math.min（I，A）））！= R &&（this.wrapper.scrollLeft =一）}}}，{ key：“getScrollX”，value：function（）{var e = this.params.pixelRatio，t = Math.round（this。wrapper.scrollLeft * e）; if（this.params.scrollParent）{var r = ~~（this.wrapper.scrollWidth * e-this.getWidth（））; t = Math.min（r，Math.max（0 ，t））} return t}}，{key：“getWidth”，value：function（）{return Math.round（this.container.clientWidth * this.params.pixelRatio）}}，{key：“setWidth”， value：function（e）{return this.width！= e &&（this.width = e，this.params.fillParent || this.params.scrollParent？this.style（this.wrapper，{width：“”}）： this.style（this.wrapper，{宽度：~~（this.width / this.params.pixelRatio）+ “PX”}），this.updateSize（）,! 0）}}，{键： “自动调用setHeight”， value：function（e）{return e！= this.height &&（this.height = e，this.style（this.wrapper，{height：~~（this.height / this.params.pixelRatio）+“px”} ），this.updateSize（）,! 0）}}，{key：“progress”，value：function（e）{var t = 1 / this.params.pixelRatio，r = Math.round（e * this.width ）* T;if（r <this.lastPos || r-this.lastPos> = t）{if（this.lastPos = r，this.params.scrollParent && this.params.autoCenter）{var n = ~~（this.wrapper.scrollWidth * E）; this.recenterOnPosition（N）} this.updateProgress（R）}}}，{键： “破坏”，值：函数（）{this.unAll（），this.wrapper &&（this.wrapper.parentNode == this.container && this.container.removeChild（this.wrapper），this.wrapper = NULL）}}，{键： “updateCursor”，值：函数（）{}}，{键： “updateSize”，值：（）的函数{}}，{键： “拉杆”，值：功能（E，T，R，N）{}}，{键： “drawWave”，值：功能（E，T，R，N）{}}， {键： “clearWave”，值：函数（）{}}，{键： “的UpdateProgress”，值：函数（E）{}}]）&& S（t.prototype中，r）中，i && S（T，I）， n}（）; t.default = i，e.exports = t.default}，function（e，t，r）{“use strict”; Object.defineProperty（t，“__esModule“，{value：！0}），t.default = void 0; var n，a =（n = r（3））&& n .__ esModule？n：{default：n} ;! function（e）{{ if（e && e .__ esModule）return; var t = {}; if（null！= e）for（var r in e）if（Object.prototype.hasOwnProperty.call（e，r））{var n = Object.defineProperty && Object ？.getOwnPropertyDescriptor Object.getOwnPropertyDescriptor（E，R）：{}; n.get || n.set Object.defineProperty（T，R，N）：T [R] = E [R]} t.default = E （r（0））;函数i（e）{return（i =“function”== typeof Symbol &&“symbol”== typeof Symbol.iterator？function（e）{return typeof e}：function（e） {return e &&“function”== typeof Symbol && e.constructor === Symbol && e！== Symbol.prototype？“symbol”：typeof e}）（e）} function s（e，t）{for（var r = 0; r <t.length; r ++）{var n = t [r]; n.enumerable = n.enumerable ||！1，n.configurable =！0，n &&中的“value”（n.writable =！0），Object.defineProperty（e，n.key，n）}} function o（e，t）{return！t ||“object”！== i（t）&&“function”！= typeof t？function （e）{if（void 0！== e）返回e;抛出新的ReferenceError（“尚未初始化 - 尚未调用super（）”）（e）：t}函数u（e， t，r）{return（u =“undefined”！= typeof Reflect && Reflect.get？Reflect.get：function（e，t，r）{var n = function（e，t）{for（;！Object.prototype。 hasOwnProperty.call（e，t）&& null！==（e = l（e））;）; return e}（e，t）; if（n）{var i = Object.getOwnPropertyDescriptor（n，t）; return i.get？i.get.call（r）：i.value}}）（e，t，r || e）} function l（e）{return（l = Object.setPrototypeOf？Object.getPrototypeOf：function（ e）{return e .__ proto__ || Object.getPrototypeOf（e）}）（e）} function c（e，t）{return（c = Object.setPrototypeOf || function（e，t）{return e .__ proto __ = t，e}）（e，t）} var h = function（e）{function n（e）{var t;return函数（e，t）{if（！（e instanceof t））抛出新的TypeError（“不能将类称为函数”）}（this，n），（t = o（this，l（n）。呼叫（这一点，E）））PARAMS = E，t.media = {currentTime的：0，持续时间：0，暂停：0，playbackRate：1，播放：函数（）{}，暂停：函数（）{} ，体积：0}，t.mediaType = e.mediaType.toLowerCase（），t.elementPosition = e.elementPosition，t.peaks = NULL，t.playbackRate = 1，t.volume = 1，t.buffer = NULL， t.onPlayEnd = null，t} var t，r，i; return function（e，t）{if（“function”！= typeof t && null！== t）throw new TypeError（“Super expression必须为null或者功能“）; e.prototype =的Object.create（吨&& t.prototype，{构造：！{值：即，可写：0，可配置的：0}}），叔&& C（E，T）}（N，a.default ），T = N，（R = [{键： “初始化”，值：函数（）{this.setPlaybackRate（this.params.audioRate），this.createTimer（）}}，{键： “createTimer”，值：function（）{var t = this; this.on（“play”，function e（）{t.isPaused（）||（t.fireEvent（“audioprocess”，t.getCurrentTime（）），（window.requestAnimationFrame | | window.webkitRequestAnimationFrame）（E））}），this.on（ “暂停”，函数（）{t.fireEvent（ “audioprocess”，t.getCurrentTime（））}）}}，{键： “负载”， value：function（e，t，r，n）{var i = document.createElement（this.mediaType）; i.controls = this.params.mediaControls，i.autoplay = this.params.autoplay ||！1，i .preload = null == n？“auto”：n，i.src = e，i.style.width =“100％”; var a = t.querySelector（this.mediaType）; a && t.removeChild（a）， t.appendChild（i）中，this._load（I，R）}}，{键： “loadElt”，值：功能（E，T）{e.controls = this.params.mediaControls，e.autoplay =此。 params.autoplay ||！1，this._load（e，t）}}，{key：“_ load”，value：function（e，t）{var r = this;“function”== typeof e.load && e.load（），e.​​addEventListener（“error”，function（）{r.fireEvent（“error”，“Error loading media element”）}），e.addEventListener（“canplay”，function （）{r.fireEvent（ “canplay”）}），e.addEventListener（ “结束”，函数（）{r.fireEvent（ “完成”）}），e.addEventListener（ “玩”，函数（）{R .fireEvent（ “播放”）}），e.addEventListener（ “暂停”，函数（）{r.fireEvent（ “暂停”）}），this.media = E，this.peaks = t时，this.onPlayEnd =空，this.buffer = NULL，this.setPlaybackRate（this.playbackRate），this.setVolume（this.volume）}}，{关键： “isPaused得到”，值：函数（）{返回this.media || this.media！ .paused}}，{key：“getDuration”，value：function（）{if（this.explicitDuration）return this.explicitDuration; var e =（this.buffer || this.media）.duration; return 1/0 < = E＆＆（e = this.media.seekable.end（0）），e}}，{key：“getCurrentTime”，value：function（）{return this.media && this.media.currentTime}}，{key：“getPlayedPercents” ，value：function（）{return this.getCurrentTime（）/ this.getDuration（）|| 0}}，{key：“getPlaybackRate”，value：function（）{return this.playbackRate || this.media.playbackRate} }，{键： “setPlaybackRate”，值：函数（E）{this.playbackRate = E || 1，this.media.playbackRate = this.playbackRate}}，{键： “seekTo”，值：函数（e）中{null！= e &&（this.media.currentTime = e），this.clearPlayEnd（）}}，{key：“play”，value：function（e，t）{this.seekTo（e）; var r = this .media.play（）;返回t && this.setPlayEnd（t），r}}，{key：“pause”，value：function（）{var e; return this.media &&（e = this.media.pause（）） ，this.clearPlayEnd（）中，e}}，{键： “setPlayEnd”，值：function（t）{var r = this; this._onPlayEnd = function（e）{t <= e &&（r.pause（），r.seekTo（t））}，this.on（“audioprocess”，this._onPlayEnd ）}}，{键： “clearPlayEnd”，值：函数（）{this._onPlayEnd &&（this.un（ “audioprocess”，this._onPlayEnd），this._onPlayEnd = NULL）}}，{键： “getPeaks”， value：function（e，t，r）{return this.buffer？u（l（n.prototype），“getPeaks”，this）.call（this，e，t，r）：this.peaks || [] }，{key：“setSinkId”，value：function（e）{return e？this.media.setSinkId？this.media.setSinkId（e）：Promise.reject（new error（“浏览器不支持setSinkId”） “））：Promise.reject（新错误（”无效的deviceId：“+ e））}}，{key：”getVolume“，value：function（）{return this.volume || this.media.volume}}， {键： “setVolume”，值：函数（E）{this.volume = E，this.media.volume = this.volume}}，{键：“销毁”，值：函数（）{this.pause（），this.unAll（），this.params.removeMediaElementOnDestroy && this.media && this.media.parentNode && this.media.parentNode.removeChild（this.media），this.media =空}}]）&& S（t.prototype中，r）中，i && S（T，I）中，n}（）; t.default = H，e.exports = t.default}，函数（例如，T，R）{” use strict“; function i（e，t）{for（var r = 0; r <t.length; r ++）{var n = t [r]; n.enumerable = n.enumerable ||！1，n。 configurable =！0，n &&中的“value”（n.writable =！0），Object.defineProperty（e，n.key，n）}} Object.defineProperty（t，“__ esModule”，{value：！0}） ，t.default = void 0; var n = function（）{function e（）{！function（e，t）{if（！（e instanceof t））抛出新的TypeError（“不能将类称为函数” ）}（this，e），this.clearPeakCache（）} var t，r，n; return t = e，（r = [{key：“clearPeakCache”，value：function（）{this。peakCacheRanges = []，this.peakCacheLength = -1}}，{键： “addRangeToPeakCache”，值：功能（例如，T，R）{E = this.peakCacheLength &&（this.clearPeakCache（），this.peakCacheLength = E ）; for（var n = []，i = 0; i <this.peakCacheRanges.length && this.peakCacheRanges [i] <t;）i ++; for（i％2 == 0 && n.push（t）; i <this。 peakCacheRanges.length && this.peakCacheRanges [I] <= R）n.push（this.peakCacheRanges [I]）中，i ++;则i％2 == 0 && n.push（R）中，n = n.filter（功能（E，T ，r）{return 0 == t？e！= r [t + 1]：t == r.length-1？e！= r [t-1]：e！= r [t-1] && e！ = r [t + 1]}），this.peakCacheRanges = this.peakCacheRanges.concat（n），this.peakCacheRanges = this.peakCacheRanges.sort（function（e，t）{return et}）。filter（function（e） ，t，r）{return 0 == t？e！= r [t + 1]：t == r.length-1？e！= r [t-1]：e！= r [t-1] && e！= r [t + 1]}）; var a = []; for（i = 0; i <n.length; i + = 2）a.push（[n [i]，n [i + 1] ]）;返回}}，{key：“getCacheRanges“，value：function（）{var e，t = []; for（e = 0; e <this.peakCacheRanges.length; e + = 2）t.push（[this.peakCacheRanges [e]，this.peakCacheRanges [e + 1]]）; return t}}]）&& i（t.prototype，r），n && i（t，n），e}（）; t.default = n，e.exports = t.default}] ）}）;
//＃sourceMappingURL = wavesurfer.min.js.map